<html>
    <head>
        <meta http-equiv="refresh" content="60">
        <style>
            th,td {
               width: 200px;
               text-align: left;
            }
        </style>
        <script type="text/javascript">
            var sensors = {{sensors_json|safe}}
        </script>
        <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script type="text/javascript">
        $(document).ready(function(){
            function format_temp(t) {
                if(t)
                    return t.toFixed(1)
                else
                    return ''
            }
            function format_distance(t) {
                if(t)
                    return t.toFixed(1)
                else
                    return ''
            }
            for (i in sensors) {
                var s = sensors[i]
                var row = $('<tr>')
                var link = $('<a>').text(s.name).attr('href', s.url)
                row.append($('<td>').append(link))
                //row.append($('<td>').text(format_temp(s.air)))
                //row.append($('<td>').text(format_temp(s.surface)))
                //row.append($('<td>').text(format_distance(s.depth)))

                $('.sensor_list').append(row)
            }
        });
        </script>

    </head>
    <body>
        <table class='sensor_list'>
        <tr>
            <th>Sensor</th>
            {#<th>Air Temp</th> #}
            {#<th>Surface Temp</th> #}
            {#<th>Snow Depth</th>#}
        </tr>
        </table>
    </body>
</html>
